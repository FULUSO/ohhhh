<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>å¤©æ©Ÿæ˜Ÿé€£çºŒå››åŒ– 2025â€“2028ï½œäº’å‹•è§£æ</title>
  <meta name="description" content="ä¹™ä¸™ä¸æˆŠå››å¹´é€£çºŒå››åŒ–ï¼šç¥¿ã€æ¬Šã€ç§‘ã€å¿Œã€‚ä»¥äº’å‹•æ™‚é–“è»¸èˆ‡ä¸»é¡Œå¡ï¼Œæ¢ç´¢å¤©æ©Ÿæ˜Ÿä½œç‚ºæ¨ç´ä¹‹æ˜Ÿçš„å®Œæ•´å¾ªç’°èˆ‡å€‹äºº/ä¸–ç•Œå½±éŸ¿ã€‚" />
  <meta name="theme-color" content="#0f172a" />
  <style>
    :root{
      --bg:#0b1220;
      --bg-soft:#0f172a;
      --card:#0f172a;
      --card-2:#111827;
      --text:#e5e7eb;
      --muted:#94a3b8;
      --border:#1f2937;
      --ring:#334155;

      --lu:#16a34a;  /* ç¥¿ */
      --quan:#ea580c;/* æ¬Š */
      --ke:#6366f1;  /* ç§‘ */
      --ji:#ef4444;  /* å¿Œ */

      --shadow: 0 10px 30px rgba(0,0,0,.35);
      --radius:14px;
      --radius-sm:10px;
    }
    [data-theme="light"]{
      --bg:#f7fafc;
      --bg-soft:#eef2f7;
      --card:#ffffff;
      --card-2:#ffffff;
      --text:#0b1220;
      --muted:#475569;
      --border:#e2e8f0;
      --ring:#cbd5e1;
      --shadow: 0 10px 25px rgba(2,6,23,.08);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", "Noto Sans TC", "PingFang TC", "Microsoft JhengHei", Arial, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif;
      background: radial-gradient(1000px 500px at 80% -10%, rgba(99,102,241,.18), transparent 60%), radial-gradient(900px 500px at 10% -20%, rgba(52,211,153,.12), transparent 60%), var(--bg);
      color:var(--text);
      line-height:1.6;
    }
    a{color:inherit}
    .container{max-width:1100px;margin:0 auto;padding:24px}
    header{
      position:sticky;top:0;z-index:20;
      background:linear-gradient(180deg, rgba(11,18,32,.9), rgba(11,18,32,.6) 60%, transparent);
      backdrop-filter:saturate(1.2) blur(6px);
      border-bottom:1px solid transparent;
    }
    .nav{
      display:flex;align-items:center;gap:16px;justify-content:space-between;
      padding:14px 24px;
    }
    .brand{display:flex;align-items:center;gap:12px}
    .logo{
      width:36px;height:36px;border-radius:10px;display:grid;place-items:center;
      background:linear-gradient(135deg, #1e293b, #0b1220);
      border:1px solid var(--border);
      box-shadow: var(--shadow);
      font-size:18px
    }
    .title{font-weight:800;font-size:18px;letter-spacing:.3px}
    .sub{font-size:12px;color:var(--muted)}
    .controls{display:flex;align-items:center;gap:10px}
    .btn{
      appearance:none;border:1px solid var(--border);background:var(--card);
      padding:8px 12px;border-radius:10px;color:var(--text);
      cursor:pointer;display:inline-flex;gap:8px;align-items:center;
      transition:.18s ease; box-shadow:var(--shadow)
    }
    .btn:hover{transform:translateY(-1px); border-color:var(--ring)}
    .btn-ghost{background:transparent;border-color:var(--border);box-shadow:none}
    .badge{font-size:12px;padding:.2em .55em;border:1px solid var(--border);border-radius:999px;color:var(--muted)}
    .hero{
      margin-top:6px;padding:24px;border:1px solid var(--border);border-radius:var(--radius);
      background:linear-gradient(180deg, rgba(99,102,241,.12), transparent 70%), var(--card);
      box-shadow:var(--shadow)
    }
    .hero h1{margin:0 0 6px;font-weight:900;font-size:30px}
    .hero p{margin:6px 0;color:var(--muted)}
    .grid{display:grid;gap:18px}
    @media(min-width:900px){ .grid-2{grid-template-columns: 1.2fr .8fr}}
    .card{
      background:var(--card); border:1px solid var(--border); border-radius:var(--radius); padding:18px;
      box-shadow:var(--shadow)
    }
    .card h3{margin:0 0 8px}
    .hint{color:var(--muted);font-size:13px}
    /* time rail */
    .rail{position:relative;padding:16px;border:1px dashed var(--ring);border-radius:var(--radius);background:var(--card-2)}
    .nodes{display:grid;grid-template-columns:repeat(4,1fr);gap:6px;margin-top:10px}
    .node{
      position:relative;padding:12px;border:1px solid var(--border);border-radius:12px;background:var(--card);
      text-align:center;cursor:pointer;transition:.18s ease; user-select:none
    }
    .node.active{border-color:var(--ring); box-shadow:0 0 0 3px rgba(99,102,241,.15)}
    .node .yr{font-weight:800}
    .node .stem{font-size:12px;color:var(--muted)}
    .node .phase{display:inline-flex;gap:6px;align-items:center;margin-top:6px;font-size:13px}
    .phase-dot{width:10px;height:10px;border-radius:50%}
    .accent-lu{color:var(--lu)} .dot-lu{background:var(--lu)}
    .accent-quan{color:var(--quan)} .dot-quan{background:var(--quan)}
    .accent-ke{color:var(--ke)} .dot-ke{background:var(--ke)}
    .accent-ji{color:var(--ji)} .dot-ji{background:var(--ji)}
    .range-wrap{display:flex;align-items:center;gap:10px;margin-top:10px;color:var(--muted);font-size:13px}
    input[type=range]{width:100%}
    /* year detail */
    .detail-head{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:10px}
    .tag{display:inline-flex;gap:8px;align-items:center;border:1px solid var(--border);border-radius:999px;padding:6px 10px}
    .tag b{letter-spacing:.5px}
    .big{font-size:20px;font-weight:900}
    .pill{display:inline-flex;gap:6px;align-items:center;font-size:13px;color:var(--muted)}
    .split{display:grid;gap:12px}
    @media(min-width:900px){.split{grid-template-columns:1fr 1fr}}
    .h{margin:.2em 0 .6em}
    .list{margin:0;padding-left:18px}
    .list li{margin:.2em 0 .2em}
    .kbd{padding:.2em .4em;border:1px solid var(--border);border-radius:6px;background:var(--bg-soft);font-size:12px}
    /* filters */
    .filters{display:flex;flex-wrap:wrap;gap:10px}
    .chip{display:inline-flex;gap:8px;align-items:center;border:1px solid var(--border);padding:8px 12px;border-radius:999px;cursor:pointer;background:var(--card)}
    .chip input{accent-color:#6366f1}
    /* compare */
    details{border:1px solid var(--border);border-radius:var(--radius);background:var(--card);box-shadow:var(--shadow)}
    details>summary{cursor:pointer;padding:14px 18px;font-weight:700;list-style:none}
    details[open] summary{border-bottom:1px dashed var(--ring)}
    .compare{padding:16px}
    .compare .cols{display:grid;gap:12px}
    @media(min-width:900px){.compare .cols{grid-template-columns:1fr 1fr}}
    .select{appearance:none;background:var(--card-2);border:1px solid var(--border);color:var(--text);border-radius:10px;padding:8px 10px}
    /* stems */
    .stems{display:grid;grid-template-columns: repeat(10,1fr); gap:8px;margin-top:12px}
    .stem{border:1px solid var(--border);border-radius:10px;padding:8px 4px;text-align:center;background:var(--card-2);font-weight:700}
    .stem.hl{box-shadow:0 0 0 2px rgba(99,102,241,.2)}
    .stem.note{font-weight:500;color:var(--muted)}
    .foot{margin-top:20px;color:var(--muted);font-size:12px;text-align:center}
    .divider{height:1px;background:linear-gradient(90deg, transparent, var(--border), transparent);margin:12px 0}
    .actions{display:flex;gap:10px;flex-wrap:wrap}
    .fade{animation:fade .2s ease}
    @keyframes fade{from{opacity:0;transform:translateY(4px)} to{opacity:1;transform:none}}
  </style>
</head>
<body>
  <header>
    <div class="nav container">
      <div class="brand">
        <div class="logo">æ©Ÿ</div>
        <div>
          <div class="title">å¤©æ©Ÿæ˜Ÿé€£çºŒå››åŒ– 2025â€“2028</div>
          <div class="sub">ç¥¿ â†’ æ¬Š â†’ ç§‘ â†’ å¿Œï½œæ€æƒ³/è¨ˆç•«çš„å®Œæ•´ç”Ÿå‘½é€±æœŸ</div>
        </div>
      </div>
      <div class="controls">
        <button id="shareBtn" class="btn btn-ghost" title="åˆ†äº«é é¢">ğŸ”— åˆ†äº«</button>
        <button id="themeBtn" class="btn" title="åˆ‡æ›ä¸»é¡Œ">ğŸŒ“ ä¸»é¡Œ</button>
      </div>
    </div>
  </header>

  <main class="container">
    <section class="hero">
      <h1>é€£çºŒå››åŒ–çš„æ™‚åºå¯†ç¢¼</h1>
      <p>åœ¨æ‰€æœ‰ç”²ç´šæ˜Ÿä¸­ï¼Œåªæœ‰ã€Œå¤©æ©Ÿæ˜Ÿã€æ–¼ä¹™ã€ä¸™ã€ä¸ã€æˆŠé€£çºŒå››å¹´è¢«å¤©å¹²å¼•å‹•å››åŒ–ï¼šä¹™å¹´åŒ–ç¥¿ã€ä¸™å¹´åŒ–æ¬Šã€ä¸å¹´åŒ–ç§‘ã€æˆŠå¹´åŒ–å¿Œã€‚é€™é“ç½•è¦‹çš„æ™‚åºï¼Œå½·å½¿ä¸€çµ„ã€Œæ€ç¶­/è¨ˆç•«çš„ç”Ÿå‘½é€±æœŸã€ï¼šå¾èŒèŠ½ã€åŸ·è¡Œã€æšåï¼Œåˆ°æª¢è¨æ”¶æŸã€‚</p>
      <div class="actions" style="margin-top:10px">
        <span class="badge">å¯ç”¨ â† â†’ å¿«æ·éµåˆ‡æ›å¹´ä»½</span>
        <span class="badge">å¯é–‹å•Ÿæ¯”è¼ƒæ¨¡å¼</span>
        <span class="badge">æš—è‰²/äº®è‰²åˆ‡æ›</span>
      </div>
    </section>

    <section class="card rail" style="margin-top:14px">
      <div class="detail-head">
        <div>
          <div class="pill">å¹´åº¦é¸æ“‡å™¨ Â· é»æ“Šå¡ç‰‡æˆ–æ‹–æ›³æ»‘æ¡¿</div>
        </div>
        <div id="currentMini" class="pill"></div>
      </div>
      <div class="nodes" id="nodes"></div>
      <div class="range-wrap">
        <span>2025</span>
        <input id="range" type="range" min="2025" max="2028" step="1" />
        <span>2028</span>
      </div>
    </section>

    <section class="grid grid-2" style="margin-top:14px">
      <aside class="card fade" id="yearCard">
        <!-- å¹´åº¦ç¸½è¦½å‹•æ…‹æ’å…¥ -->
      </aside>

      <section class="card fade">
        <div class="detail-head">
          <h3 class="h">é‡é»é¢å‘</h3>
          <div class="filters">
            <label class="chip"><input type="checkbox" id="f-career" checked /> äº‹æ¥­</label>
            <label class="chip"><input type="checkbox" id="f-wealth" checked /> è²¡å¯Œ</label>
            <label class="chip"><input type="checkbox" id="f-world" checked /> ä¸–ç•Œå±€å‹¢</label>
          </div>
        </div>
        <div class="split" id="panels">
          <!-- é¢å‘å¡ç‰‡å‹•æ…‹æ’å…¥ -->
        </div>
      </section>
    </section>

    <section class="card" style="margin-top:14px">
      <h3 class="h">å¤©å¹²åå¹´ä¸€è¼ª Â· ä¹™â†’ä¸™â†’ä¸â†’æˆŠçš„æ¸…æ™°ç¯‡ç« </h3>
      <p class="hint">å¤©å¹²åæ•¸ï¼Œæ­£å¥½å°æ‡‰åå¹´å¾ªç’°ã€‚æ¯åå¹´ï¼Œå››åŒ–çµ„åˆé‡å•Ÿä¸€æ¬¡ï¼›å¤©æ©Ÿæ˜Ÿçš„å››é€£åŒ–ï¼Œæ˜¯æ­¤å¤§å¾ªç’°ä¸­æœ€èƒ½è¡¨å¾µã€Œæ™‚ä»£æ€æ½®è®Šé·ã€çš„ç« ç¯€ã€‚</p>
      <div class="stems" id="stems"></div>
      <div id="stemInfo" class="hint" style="margin-top:10px">é»é¸ä»»ä¸€å¤©å¹²æŸ¥çœ‹èªªæ˜ã€‚ä¹™â†’æˆŠç‚ºæœ¬æ¬¡é—œéµæ®µè½ã€‚</div>
    </section>

    <details style="margin-top:14px">
      <summary>æ¯”è¼ƒå…©å€‹å¹´ä»½ï¼ˆä¸¦æ’å°ç…§ç¥¿/æ¬Š/ç§‘/å¿Œä¸‹çš„ä¸‰å¤§é¢å‘ï¼‰</summary>
      <div class="compare">
        <div class="actions">
          <label>å¹´ä»½ Aï¼š
            <select id="cmpA" class="select">
              <option value="2025">2025ï¼ˆä¹™Â·åŒ–ç¥¿ï¼‰</option>
              <option value="2026">2026ï¼ˆä¸™Â·åŒ–æ¬Šï¼‰</option>
              <option value="2027">2027ï¼ˆä¸Â·åŒ–ç§‘ï¼‰</option>
              <option value="2028">2028ï¼ˆæˆŠÂ·åŒ–å¿Œï¼‰</option>
            </select>
          </label>
          <label>å¹´ä»½ Bï¼š
            <select id="cmpB" class="select">
              <option value="2026">2026ï¼ˆä¸™Â·åŒ–æ¬Šï¼‰</option>
              <option value="2025">2025ï¼ˆä¹™Â·åŒ–ç¥¿ï¼‰</option>
              <option value="2027">2027ï¼ˆä¸Â·åŒ–ç§‘ï¼‰</option>
              <option value="2028">2028ï¼ˆæˆŠÂ·åŒ–å¿Œï¼‰</option>
            </select>
          </label>
        </div>
        <div class="cols" id="cmpCols"></div>
      </div>
    </details>

    <section class="card" style="margin-top:14px">
      <h3 class="h">æ¨ç´ä¹‹æ˜Ÿ Â· å¤©æ©Ÿ</h3>
      <p>å¤©æ©Ÿä¸»æ™ºæ…§ã€è¬€ç•¥ã€ä¼åŠƒã€è®Šå‹•ã€äº¤é€šã€è³‡è¨Šã€æ©Ÿæ¢°ï¼Œå°æ™‚é–“çš„æµè½‰æ¥µç‚ºæ•éŠ³ï¼Œå®›å¦‚æ™‚ä»£é¢¨å‘çƒã€‚å››åŒ–é€£è²«é¡¯ç¤ºå…¶ã€Œä¿¡ä½¿/æ¨ç´ã€è§’è‰²ï¼šæŠŠè…¦ä¸­çš„è—åœ–æ¨å‘å…¬å…±èˆå°ï¼Œå†è¿«ä½¿æˆ‘å€‘å›æœ›èˆ‡ä¿®æ­£ï¼Œç‚ºä¸‹ä¸€è¼ªåšæº–å‚™ã€‚</p>
      <div class="divider"></div>
      <ul class="list">
        <li><b>ä¹™å¹´Â·åŒ–ç¥¿</b>ï¼šèŒèŠ½èˆ‡è³‡æºå•Ÿå‹•</li>
        <li><b>ä¸™å¹´Â·åŒ–æ¬Š</b>ï¼šåŸ·è¡Œèˆ‡æŒæ§æˆå½¢</li>
        <li><b>ä¸å¹´Â·åŒ–ç§‘</b>ï¼šæšåèˆ‡çŸ¥è­˜é«”ç³»åŒ–</li>
        <li><b>æˆŠå¹´Â·åŒ–å¿Œ</b>ï¼šæª¢è¨èˆ‡å› æœæ”¶æŸ</li>
      </ul>
    </section>

    <div class="foot">è²æ˜ï¼šæœ¬é å…§å®¹ç‚ºæ–‡åŒ–/ç ”ç©¶æ€§è³ªä¹‹æ•´ç†ï¼Œéè²¡å‹™æˆ–å°ˆæ¥­å»ºè­°ã€‚Â© 2025</div>
  </main>

  <script>
    ;(()=>{
      const $ = sel => document.querySelector(sel);
      const $$ = sel => document.querySelectorAll(sel);
      const html = document.documentElement;

      // ä¸»é¡Œ
      const savedTheme = localStorage.getItem('theme') || (window.matchMedia('(prefers-color-scheme: light)').matches ? 'light' : 'dark');
      html.setAttribute('data-theme', savedTheme);
      $('#themeBtn').addEventListener('click', ()=>{
        const t = html.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
        html.setAttribute('data-theme', t);
        localStorage.setItem('theme', t);
      });

      // è³‡æ–™
      const data = {
        2025: {
          year: 2025, stem:'ä¹™', transform:'åŒ–ç¥¿', key:'ç¥¿', icon:'ğŸŒ±', color:'var(--lu)', phase:'èŒèŠ½æœŸ',
          yi: 'ã€Œç¥¿ã€ä»£è¡¨æ–°ç”Ÿã€æ©Ÿæœƒã€è³‡æºã€æ…¾æœ›èˆ‡é–‹å§‹ã€‚',
          xiang: 'å…¨çƒè…¦åŠ›æ´»çµ¡ï¼Œæ–°çš„æ€æƒ³/å•†æ¥­æ¨¡å¼/ç§‘æŠ€æ¦‚å¿µ/åˆä½œè¨ˆç•«æ¹§ç¾ã€‚é»å­çˆ†ç™¼ï¼Œäººå€‘å°æœªä¾†å……æ»¿æ¨‚è§€è¦åŠƒã€‚',
          oneLine:'æ’­ç¨®èˆ‡å•Ÿå‹•ï¼šè®“å¥½é»å­è½åœ°æˆç¨®å­ã€‚',
          career:[
            'æå‡ºæ–°ä¼åŠƒã€å­¸ç¿’æ–°æŠ€èƒ½ã€è½‰æ›è·‘é“æˆ–é–‹å‰µå‰¯æ¥­',
            'é»å­å¤šã€è³‡æºæ˜“å¾—ï¼Œæ˜¯æ’­ç¨®èˆ‡å¸ƒå±€çš„å¥½æ™‚æ©Ÿ'
          ],
          wealth:[
            'æ–°æŠ•è³‡æ©Ÿæœƒæ¹§ç¾ï¼Œå°¤ä»¥ç§‘æŠ€ã€ç¶²è·¯ã€æ–°å‰µç›¸é—œç‚ºä½³',
            'äººå€‘é¡˜ç‚ºã€Œå¥½æƒ³æ³•ã€æŠ•å…¥è³‡é‡‘ï¼Œä½†é ˆé˜²éåº¦æ¨‚è§€'
          ],
          world:[
            'åœç¹æ–°æ¦‚å¿µ/æ–°æŠ€è¡“ï¼ˆAI ä¸‹ä¸€éšæ®µã€æ–°èƒ½æºã€å¤ªç©ºç­‰ï¼‰å±•é–‹åˆä½œèˆ‡ç«¶è³½',
            'å„åœ‹æå‡ºæ–°è—åœ–èˆ‡æˆ°ç•¥æ§‹æƒ³'
          ],
          advice:[
            'æŠŠè…¦ä¸­ä¸‰å€‹é»å­åšæˆä¸€é ä¼åŠƒï¼ŒæŒ‘ä¸€å€‹ç«‹åˆ»å•Ÿå‹•',
            'å»ºç«‹å­¸ç¿’æ¸…å–®ï¼Œè‡³å°‘ä¸Šå…©é–€é—œéµæŠ€èƒ½èª²'
          ],
          risks:[
            'è¢«éˆæ„Ÿæ²–æ˜ï¼Œå¿½ç•¥å¯è¡Œæ€§èˆ‡è³‡æºé…ç½®',
            'åˆ†å¿ƒéå¤šï¼Œé›£ä»¥å½¢æˆå¯åŸ·è¡Œè·¯ç·š'
          ]
        },
        2026: {
          year: 2026, stem:'ä¸™', transform:'åŒ–æ¬Š', key:'æ¬Š', icon:'ğŸ’ª', color:'var(--quan)', phase:'åŸ·è¡ŒæœŸ',
          yi:'ã€Œæ¬Šã€ä»£è¡¨åŸ·è¡Œã€æŒæ§ã€æ¬ŠåŠ›ã€è¡Œå‹•èˆ‡å¯¦è¸ã€‚',
          xiang:'å»å¹´çš„é»å­è¢«å¼·åŠ›æ¨å‹•ï¼Œä¸å†ç´™ä¸Šè«‡å…µã€‚æ¬ŠåŠ›çˆ­å¥ªã€æ¨™æº–å»ºç«‹èˆ‡å¼·å‹¢ä½œç‚ºåŒæ™‚ç™»å ´ã€‚',
          oneLine:'ä¸»å‹•å‡ºæ“Šï¼šä»¥åˆ¶åº¦èˆ‡ç¯€å¥æŠŠæƒ³æ³•è®Šæˆç¾å¯¦ã€‚',
          career:[
            'ç©æ¥µçˆ­å–é ˜å°è·ä½ã€æ“´å¤§æ¥­å‹™ï¼Œå°‡è¨ˆç•«ä»˜è«¸å¯¦è¡Œ',
            'å±•ç¾é­„åŠ›èˆ‡æ±ºæ–·ï¼Œä½†é¿å…éåº¦å¼·å‹¢å¼•ç™¼è¡çª'
          ],
          wealth:[
            'æŠ•è³‡æ›´ç©æ¥µã€æ›´å¤§è†½ï¼Œå¯èƒ½ä½¿ç”¨æ§“æ¡¿',
            'è¿½æ±‚æŒæ§èˆ‡æ›´å¤§å›å ±ï¼Œéœ€ç®¡ç†é¢¨éšªèˆ‡å€‰ä½'
          ],
          world:[
            'ç§‘æŠ€æˆ°ã€è²¿æ˜“å£å£˜èˆ‡åœ°ç·£çµç›ŸåŠ åŠ‡ä¸»å°æ¬Šä¹‹çˆ­',
            'ç§©åºé€²å…¥å¼·ç¡¬åŸ·è¡Œèˆ‡è§’åŠ›éšæ®µ'
          ],
          advice:[
            'æŠŠå»å¹´ä¼åŠƒè½‰æˆç”˜ç‰¹åœ–/OKRï¼Œè¨­å®šå­£åº¦é‡Œç¨‹ç¢‘',
            'å»ºç«‹é¢¨æ§è¦å‰‡ï¼šæœ€å¤§å›æ’¤ã€æ§“æ¡¿ä¸Šé™ã€æ­¢æé»'
          ],
          risks:[
            'æ“´å¼µéå¿«å°è‡´å…§æ§å¤±åº',
            'æ¬ŠåŠ›èˆ‡è³‡æºåˆ†é…ä¸å‡å¼•çˆ†äººéš›è¡çª'
          ]
        },
        2027:{
          year: 2027, stem:'ä¸', transform:'åŒ–ç§‘', key:'ç§‘', icon:'âœ¨', color:'var(--ke)', phase:'æšåæœŸ',
          yi:'ã€Œç§‘ã€ä»£è¡¨åè²ã€å½°é¡¯ã€æ›å…‰ã€è²´äººèˆ‡æ–‡é£¾ã€‚',
          xiang:'æˆåŠŸè¨ˆç•«å»£ç‚ºäººçŸ¥ï¼ŒçŸ¥è­˜é«”ç³»èˆ‡ SOP å»ºç«‹ä¸¦æ¨å»£ã€‚æˆæœè¢«çœ‹è¦‹ã€è¢«ç¾åŒ–ã€è¢«å­¸ç¿’ã€‚',
          oneLine:'ç³»çµ±åŒ–èˆ‡å“ç‰ŒåŒ–ï¼šæŠŠæˆæœè®Šæˆå¯è¤‡è£½çš„æ¨™æº–ã€‚',
          career:[
            'åŠªåŠ›æ˜“è¢«çœ‹è¦‹ï¼Œå¯èƒ½æ™‰å‡ã€ç²çã€å»ºç«‹å€‹äºº IP',
            'é©åˆå“ç‰Œæ¨å»£ã€æ•™å­¸åˆ†äº«ã€å¤–éƒ¨åˆä½œ'
          ],
          wealth:[
            'å¸³é¢ç¸¾æ•ˆé¡¯ç¾ï¼›é©åˆç†æ€§è³‡ç”¢é…ç½®èˆ‡å†å¹³è¡¡',
            'åˆ¥è¢«è™›åæ²–æ˜ï¼Œå›æ­¸åŸºæœ¬é¢'
          ],
          world:[
            'åœ‹éš›è¦ç¯„/æ¨™æº–ç¢ºç«‹ï¼Œåˆä½œæ¨¡å¼æ™®åŠåŒ–èˆ‡æª¯é¢åŒ–',
            'å¯èƒ½å‡ºç¾ç·©å’Œå±€å‹¢çš„æœƒè­°æˆ–å”è­°'
          ],
          advice:[
            'æ²‰æ¾±æ–¹æ³•è«–ï¼Œè¼¸å‡ºç™½çš®æ›¸/é–‹æº SOP/æ•™å­¸å…§å®¹',
            'å»ºç«‹å€‹äººå“ç‰ŒçŸ©é™£ï¼ˆå®˜ç¶²/ç°¡å ±/æ¡ˆä¾‹åº«ï¼‰'
          ],
          risks:[
            'å¥½çœ‹ä¸è€ç”¨ï¼šéåº¦åŒ…è£æ©è“‹çœŸå•é¡Œ',
            'åæœ›ç¶æ¶æ±ºç­–ï¼Œå¿½è¦–é•·æœŸéŸŒæ€§'
          ]
        },
        2028:{
          year: 2028, stem:'æˆŠ', transform:'åŒ–å¿Œ', key:'å¿Œ', icon:'ğŸ§', color:'var(--ji)', phase:'æª¢è¨æœŸ',
          yi:'ã€Œå¿Œã€ä»£è¡¨çµæŸã€æ”¶è—ã€é˜»ç¤™ã€åæ€èˆ‡å› æœã€‚',
          xiang:'å¿«é€Ÿç™¼å±•ç´¯ç©çš„å•é¡Œé›†ä¸­æµ®ç¾ï¼Œè¿«ä½¿åœä¸‹æª¢è¨ï¼šæ–¹å‘æ˜¯å¦æ­£ç¢ºï¼Ÿæ¼æ´ä½•åœ¨ï¼Ÿç‚ºä¸‹ä¸€å¾ªç’°ä½œæº–å‚™ã€‚',
          oneLine:'ç¸½çµèˆ‡æ”¶æŸï¼šä¿®è£œçµæ§‹ã€å®ˆä½åº•ç·šã€ç¾é‡‘ç‚ºç‹ã€‚',
          career:[
            'å®¹æ˜“é‡ç“¶é ¸/å—é˜»/æºé€šä¸è‰¯ï¼Œç™¼ç¾æ±ºç­–èª¤å·®',
            'ä¸å®œå†’é€²ï¼Œå°ˆæ³¨ç›¤é»ã€ä¿®æ­£ã€æ‰“åº•'
          ],
          wealth:[
            'å¯©åˆ¤å¹´ï¼šéåº¦æŠ•æ©Ÿæ˜“è™§æï¼Œå¸‚å ´æˆ–åŠ‡çƒˆä¿®æ­£',
            'ä¿å®ˆè‡³ä¸Šï¼Œå¼·åŒ–ç¾é‡‘éƒ¨ä½èˆ‡é¢¨æ§'
          ],
          world:[
            'ä¾›æ‡‰éˆ/äº¤é€š/ç¶²è·¯æˆ–ç¾é‡å¤§å•é¡Œï¼ˆå¦‚å¤§è¦æ¨¡é§­æ”»ã€ç‰©æµç™±ç˜“ã€é—œéµæŠ€è¡“å¤±æ•ˆï¼‰',
            'é»‘å¤©éµæ©Ÿç‡å‡é«˜ï¼Œå…¨çƒé€²è¡Œæˆ°ç•¥æ”¶ç¸®èˆ‡åæ€'
          ],
          advice:[
            'åšä¸€æ¬¡å…¨ç›¤ç›¤é»ï¼šè³‡ç”¢è² å‚µã€é …ç›®å¥åº·åº¦ã€æŠ€è¡“å‚µ',
            'å»ºç«‹ã€Œåœæ­¢è¦å‰‡ã€èˆ‡æ•…éšœæ¼”ç·´ï¼Œç¢ºä¿æ¥µç«¯æƒ…å¢ƒå¯æ´»ä¸‹ä¾†'
          ],
          risks:[
            'æ‹–å»¶é¢å°å•é¡Œï¼Œå°è‡´å°éŒ¯æ»¾æˆå¤§ç½',
            'é€¢ä½ç›²ç›®åŠ ç¢¼ï¼Œå¿½ç•¥ç³»çµ±æ€§é¢¨éšª'
          ]
        }
      };

      const order = [2025,2026,2027,2028];

      // ç¯€é»æ¸²æŸ“
      const nodesEl = $('#nodes');
      const range = $('#range');
      const currentMini = $('#currentMini');
      function renderNodes(active){
        nodesEl.innerHTML = '';
        order.forEach(yr=>{
          const d = data[yr];
          const node = document.createElement('div');
          node.className = 'node' + (yr===active ? ' active':'');
          node.dataset.year = yr;
          const keyClass = d.key==='ç¥¿'?'lu':d.key==='æ¬Š'?'quan':d.key==='ç§‘'?'ke':'ji';
          node.innerHTML = `
            <div class="yr">${yr}</div>
            <div class="stem">${d.stem}å¹´ Â· å¤©æ©Ÿ${d.transform}</div>
            <div class="phase accent-${keyClass}">
              <span class="phase-dot dot-${keyClass}"></span>
              ${d.phase} ${d.icon}
            </div>
          `;
          node.addEventListener('click', ()=>setYear(yr, true));
          nodesEl.appendChild(node);
        });
      }

      // å¹´åº¦å¡
      const yearCard = $('#yearCard');
      function renderYearCard(d){
        const tone = d.key==='ç¥¿'?'lu':d.key==='æ¬Š'?'quan':d.key==='ç§‘'?'ke':'ji';
        yearCard.innerHTML = `
          <div class="detail-head">
            <div class="big">${d.year}ï¼ˆ${d.stem}å¹´ï¼‰Â· å¤©æ©Ÿ${d.transform} ${d.icon}</div>
            <span class="tag"><span style="width:10px;height:10px;border-radius:50%;background:${getColor(d.key)}"></span> <b>${d.phase}</b></span>
          </div>
          <div class="divider"></div>
          <p><b>æ„ç¾©ï¼š</b>${d.yi}</p>
          <p><b>è±¡å¾µï¼š</b>${d.xiang}</p>
          <p class="hint">ä¸€å¥è©±å®šä½ï¼š${d.oneLine}</p>
          <div class="divider"></div>
          <div class="split">
            <div>
              <h4 class="h">è¡Œå‹•å»ºè­°</h4>
              <ul class="list">
                ${d.advice.map(x=>`<li>${x}</li>`).join('')}
              </ul>
            </div>
            <div>
              <h4 class="h">éœ€è¦ç•™æ„</h4>
              <ul class="list">
                ${d.risks.map(x=>`<li>${x}</li>`).join('')}
              </ul>
            </div>
          </div>
        `;
        currentMini.textContent = `${d.year} Â· ${d.stem}å¹´ Â· ${d.transform} Â· ${d.phase}`;
      }

      // é¢å‘å¡
      const panels = $('#panels');
      const filters = {
        career: $('#f-career'),
        wealth: $('#f-wealth'),
        world: $('#f-world'),
      };
      Object.values(filters).forEach(el=>el.addEventListener('change', ()=>renderPanels(currentYear)));

      function renderPanels(yr){
        const d = data[yr];
        const fn = (title, arr, id)=>`
          <div class="card" data-panel="${id}">
            <h3 class="h">${title}</h3>
            <ul class="list">${arr.map(x=>`<li>${x}</li>`).join('')}</ul>
          </div>
        `;
        const arr = [];
        if(filters.career.checked) arr.push(fn('å€‹äººäº‹æ¥­', d.career, 'career'));
        if(filters.wealth.checked) arr.push(fn('å€‹äººè²¡å¯Œ', d.wealth, 'wealth'));
        if(filters.world.checked) arr.push(fn('ä¸–ç•Œå±€å‹¢ç™¼å±•', d.world, 'world'));
        panels.innerHTML = arr.join('');
      }

      // åå¤©å¹²
      const stemsEl = $('#stems');
      const stems = ['ç”²','ä¹™','ä¸™','ä¸','æˆŠ','å·±','åºš','è¾›','å£¬','ç™¸'];
      const stemsMeta = {
        'ä¹™':'å¤©æ©ŸåŒ–ç¥¿ï¼šèŒèŠ½èˆ‡å•Ÿå‹•',
        'ä¸™':'å¤©æ©ŸåŒ–æ¬Šï¼šåŸ·è¡Œèˆ‡æŒæ§',
        'ä¸':'å¤©æ©ŸåŒ–ç§‘ï¼šæšåèˆ‡é«”ç³»åŒ–',
        'æˆŠ':'å¤©æ©ŸåŒ–å¿Œï¼šæª¢è¨èˆ‡æ”¶æŸ'
      };
      function renderStems(){
        stemsEl.innerHTML = '';
        stems.forEach(s=>{
          const div = document.createElement('div');
          const hl = ['ä¹™','ä¸™','ä¸','æˆŠ'].includes(s) ? ' hl' : '';
          div.className = 'stem' + hl;
          div.textContent = s;
          div.title = stemsMeta[s] || 'åå¹´å¾ªç’°ä¹‹ä¸€ç’°';
          div.addEventListener('click', ()=>{
            $('#stemInfo').textContent = (stemsMeta[s] || `${s}ï¼šåå¹´å¾ªç’°ä¹‹ä¸€ç’°`) + 'ï¼ˆåå¹´ä¸€è¼ªï¼Œçµ„åˆé‡å•Ÿï¼‰';
          });
          stemsEl.appendChild(div);
        });
      }

      // æ¯”è¼ƒ
      const cmpA = $('#cmpA'), cmpB = $('#cmpB'), cmpCols = $('#cmpCols');
      [cmpA, cmpB].forEach(el=>el.addEventListener('change', renderCompare));
      function renderCompare(){
        const A = data[cmpA.value], B = data[cmpB.value];
        cmpCols.innerHTML = [A,B].map(d=>`
          <div class="card">
            <div class="detail-head">
              <div class="big">${d.year}ï¼ˆ${d.stem}ï¼‰Â· ${d.transform} ${d.icon}</div>
              <span class="badge">${d.phase}</span>
            </div>
            <div class="divider"></div>
            <h4 class="h">å€‹äººäº‹æ¥­</h4>
            <ul class="list">${d.career.map(x=>`<li>${x}</li>`).join('')}</ul>
            <h4 class="h">å€‹äººè²¡å¯Œ</h4>
            <ul class="list">${d.wealth.map(x=>`<li>${x}</li>`).join('')}</ul>
            <h4 class="h">ä¸–ç•Œå±€å‹¢</h4>
            <ul class="list">${d.world.map(x=>`<li>${x}</li>`).join('')}</ul>
          </div>
        `).join('');
      }

      // åˆ†äº«
      $('#shareBtn').addEventListener('click', async ()=>{
        const url = location.href;
        const year = currentYear;
        const text = `å¤©æ©Ÿæ˜Ÿé€£çºŒå››åŒ– ${year}ï¼š${data[year].stem}å¹´Â·${data[year].transform}Â·${data[year].phase}`;
        if(navigator.share){
          try{ await navigator.share({title:document.title, text, url}); }catch(e){}
        }else{
          await navigator.clipboard.writeText(url);
          alert('é€£çµå·²è¤‡è£½ï¼');
        }
      });

      // å¹´åº¦ç‹€æ…‹
      let currentYear = order[0];
      function getColor(key){ return key==='ç¥¿'?'var(--lu)':key==='æ¬Š'?'var(--quan)':key==='ç§‘'?'var(--ke)':'var(--ji)'; }

      function setYear(yr, pushHash=false){
        currentYear = yr;
        localStorage.setItem('year', yr);
        renderNodes(yr);
        renderYearCard(data[yr]);
        renderPanels(yr);
        range.value = String(yr);
        if(pushHash) location.hash = `#${yr}`;
      }

      // Range
      range.addEventListener('input', e=> setYear(parseInt(e.target.value), true));

      // éµç›¤åˆ‡æ›
      document.addEventListener('keydown', e=>{
        if(e.key==='ArrowLeft' || e.key==='ArrowRight'){
          const idx = order.indexOf(currentYear);
          if(e.key==='ArrowLeft' && idx>0) setYear(order[idx-1], true);
          if(e.key==='ArrowRight' && idx<order.length-1) setYear(order[idx+1], true);
        }
      });

      // åˆå§‹åŒ–
      function init(){
        const hashYear = parseInt(location.hash.replace('#',''));
        const saved = parseInt(localStorage.getItem('year'));
        const start = order.includes(hashYear)?hashYear : order.includes(saved)?saved : 2025;
        renderNodes(start);
        setYear(start, false);
        renderStems();
        renderCompare();
      }
      window.addEventListener('hashchange', ()=>{
        const hy = parseInt(location.hash.replace('#',''));
        if(order.includes(hy)) setYear(hy, false);
      });
      init();
    })();
  </script>
</body>
</html>
